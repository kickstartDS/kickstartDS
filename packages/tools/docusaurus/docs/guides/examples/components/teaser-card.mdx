---
sidebar_position: 3
sidebar_label: Create TeaserCard component
---

import Admonition from 'react-admonitions';
import { TeaserBox } from '@kickstartds/base/lib/teaser-box';
import { TextMedia } from '@kickstartds/base/lib/text-media';

# Create `TeaserCard` component

This guided example show how to find a fitting, existing **kickstartDS** base component for one of your use cases, to repurpose it. Meaning: you start with some requirements, match an existing component, find a fitting new name for the use case, and give it a new purpose by greatly restricting and rewiring its options for the new context.

Even while using the component rather directly from **kickstartDS**, you'll want to find the correct set of properties for your own use case. Components in **kickstartDS** come equipped with properties for a wide range of possible use cases, so it makes sense to reduce those to the ones you really need... to make components easier to understand, use and reason about!

We call this type of workflow **Creation**. Learn more about it in [our dedicated guide](../../components/create.mdx) about it. If you're unsure about something, have a look over there. We go into more background detail there about what we're doing here.

Not touching the actual markup generated by components let's us get by without adding any custom styling (**CSS** / **SCSS**) to it. We simply reuse the already existing [**Design Token**](../../../foundations/token/design-token/index.md) and component structure.

## Overview

This is how the result of this guide will look like:

<iframe
  src="https://60dc476b80673e003b4258d6-czyzkgbgek.chromatic.com/iframe.html?args=&id=base-teaser-box--linked-without-button&viewMode=story"
  width="500"
  height="530"
></iframe>

It will only need three simple steps for that:

1. Component Definition,
2. Component Mapping, and
3. Component Creation

For more details about those steps, have a look at [the guide about different component processes](../../components/index.mdx) and their shared structure.

## Requirements

This guide assumes that you already have a working Design System, that is based on **kickstartDS**, running.<br/>
If that's not the case, follow our [Create your Design System](../../create/index.mdx) guide.

## 1. Component Definition

### Purpose

<TextMedia
  ks-theme="docs"
  media={[
    {
      lightboxImage: {
        image: require('./assets/teasercard-usage.png').default,
        thumb: require('./assets/teasercard-usage.png').default,
        width: 1904,
        height: 903,
        zoomIcon: true,
        gallery: 'teasercard-use',
      },
      caption: "Examples of teaser card component variants"
    }
  ]}
  mediaAlignment="intext-right"
  text="We want to be able to flexibly tease content in a unified way. We think it should feel clean and modern, by looking like a card component. Otherwise, we'd just want to add the obvious things to such a card... headline, text, a link and optionally a cover image.

It would also be important to us that the component supports being inverted, as that's a feature we've used in other parts of our Design System extensively (for example our `Section`). Components working together nicely, and sharing the same overarching concepts is a key tenant of using a Design System!

We give our component the name `TeaserCard`."
/>

### Structure

Defining the structure of a component means finding the [component API](../../../foundations/components/component-api.md) for it:

| Property     | Type      | Description                          |
| ------------ | --------- | ------------------------------------ |
| `headline *` | `string`  | Headline for the teaser card         |
| `text *`     | `string`  | Body text for the teaser card        |
| `image`      | `string`  | (Optional) image to display as cover |
| `inverted`   | `boolean` | Show inverted version of card?       |
| `target *`   | `string`  | Target that should be linked         |

Fields that should be required are marked with a `*`.

While directly helping us get a better grasp on our new component, these will also be used to write our `JSON Schema` later!

## 2. Component Mapping

Next we want to search for components that could be of use in assembling this new one. This might be a single, big component that more or less directly fits our use case, or alternatively a combination of components that could serve as the basis by combining them.

This will then serve as our **kickstartDS** base component, which will be adjusted to fit our needs!

### Matching it

From a quick glance, our `TeaserBox` component seems like it might fit the bill quite nicely! It has options for a `headline` (`topic`),`text` (`text`), `inverted` (`inverted`) and `image` (`image`), and we can simplify its `link` for our `target`.

It's `inverted` feature is also based on the general **kickstartDS** component and [**Design Token**](../../../foundations/token/design-token/index.md) functionality, fulfilling that requirement of ours:

<iframe
  src="https://60dc476b80673e003b4258d6-czyzkgbgek.chromatic.com/?path=/story/base-teaser-box--linked-with-button&full=1&shortcuts=false&singleStory=true"
  width="500"
  height="660"
></iframe>

For a complete overview of the available options, take a look at the `TeaserBox` [component API](../../../foundations/components/component-api.md) here:<br/>
https://www.kickstartds.com/storybook/?path=/docs/base-teaser-box--linked-with-button

### Adjustments

This only gives us a rough sketch, though. We still need to adjust the example code to exactly fit our needs. In the process we will hard-code a bunch of options, because we're only interested in a specific set of them. The rest can be set to default values, which don't need to become part of the [component API](../../../foundations/components/component-api.md).

<CH.Scrollycoding>
<CH.Preview>
<div className="layout-preview" ks-theme="preview">
  <TeaserBox
    image="https://picsum.photos/seed/kdsteaserbox/500/300"
    link={{
      fillAnimation: false,
      hidden: false,
      href: 'https://example.com',
      icon: {
        icon: 'chevron-right'
      },
      iconAfter: true,
      iconAnimation: false,
      iconBefore: false,
      label: 'learn more',
      newTab: false,
      size: 'medium',
      variant: 'solid'
    }}
    ratio="16:9"
    text="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ispum dolor distinctio minima unde voluptatum aut. Lorem ipsum dolor sit amet."
    topic="Lorem Ipsum"
  />
</div>
</CH.Preview>

#### Start with an existing `TeaserBox` component variant

We'll start by copying the `JSX` code for the `Linked With Button` variant of our `TeaserBox` component, from here:<br/>
https://www.kickstartds.com/storybook/?path=/docs/base-teaser-box--linked-with-button

<CH.Code>
  ```tsx
  <TeaserBox
    image="https://picsum.photos/seed/kdsteaserbox/500/300"
    link={{
      fillAnimation: false,
      hidden: false,
      href: 'https://example.com',
      icon: {
        icon: 'chevron-right',
      },
      iconAfter: true,
      iconAnimation: false,
      iconBefore: false,
      label: 'learn more',
      newTab: false,
      size: 'medium',
      variant: 'solid',
    }}
    ratio="16:9"
    text="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ispum dolor distinctio minima unde voluptatum aut. Lorem ipsum dolor sit amet."
    topic="Lorem Ipsum"
  />
  ```
</CH.Code>

---

#### Remove all of the unneeded stuff

There are a bunch of properties that are completely optional in the copied JSX, or ones which just state the `default` value of that property anyway. Those can be freely removed.<br/>
In the case of our `TeaserCard`, we drop `ratio` and some of the `link` options!

<CH.Code>
  ```tsx
  <TeaserBox
    image="https://picsum.photos/seed/kdsteaserbox/500/300"
    link={{
      href: 'https://example.com',
      label: 'learn more',
    }}
    text="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ispum dolor distinctio minima unde voluptatum aut. Lorem ipsum dolor sit amet."
    topic="Lorem Ipsum"
  />
  ```
</CH.Code>

<CH.Preview>
  <div className="layout-preview" ks-theme="preview">
    <TeaserBox
      image="https://picsum.photos/seed/kdsteaserbox/500/300"
      link={{
        href: 'https://example.com',
        label: 'learn more',
      }}
      text="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ispum dolor distinctio minima unde voluptatum aut. Lorem ipsum dolor sit amet."
      topic="Lorem Ipsum"
    />
  </div>
</CH.Preview>

---

#### Hard-code static, required properties

We add _Read more_ as the static text for the link included with our `TeaserCard`.

<CH.Code>
  ```tsx focus=5
  <TeaserBox
    image="https://picsum.photos/seed/kdsteaserbox/500/300"
    link={{
      href: 'https://example.com',
      label: 'Read more',
    }}
    text="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ispum dolor distinctio minima unde voluptatum aut. Lorem ipsum dolor sit amet."
    topic="Lorem Ipsum"
  />
  ```
</CH.Code>

<CH.Preview>
  <div className="layout-preview" ks-theme="preview">
    <TeaserBox
      image="https://picsum.photos/seed/kdsteaserbox/500/300"
      link={{
        href: 'https://example.com',
        label: 'Read more',
      }}
      text="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ispum dolor distinctio minima unde voluptatum aut. Lorem ipsum dolor sit amet."
      topic="Lorem Ipsum"
    />
  </div>
</CH.Preview>

---

#### Add some demo content

Now we just need to enter some "real" content, and we've successfully recreated what we set out to do in the start. At least for the markup part!

<CH.Code>
  ```tsx focus=2:4,6:8
  <TeaserBox
    image="https://www.kickstartds.com/static/bdfbb12379bfec9128d8849c55f862a7/Blog-Post_design-system-initiative-1.png"
    link={{
      href: 'https://mydesignsystem.com/articles',
      label: 'Read more',
    }}
    text="How our initiative workshop series helps customers to decide for or against building a design system."
    topic="Design System Initiative"
  />
  ```
</CH.Code>

<CH.Preview>
  <div className="layout-preview" ks-theme="preview">
    <TeaserBox
      image="https://www.kickstartds.com/static/bdfbb12379bfec9128d8849c55f862a7/Blog-Post_design-system-initiative-1.png"
      link={{
        href: 'https://mydesignsystem.com/articles',
        label: 'Read more',
      }}
      text="How our initiative workshop series helps customers to decide for or against building a design system."
      topic="Design System Initiative"
    />
  </div>
</CH.Preview>
</CH.Scrollycoding>

With our small [component API](../../../foundations/components/component-api.md) in place, and this rough sketch for the markup in mind, we can start actually implementing our component!

## 3. Component Creation

We like to colocate components. This means to have all involved files next to each other in the same folder; the template (`.jsx` / `.tsx`), potential CSS / SASS (`.css` / `.scss`), JavaScript (`.js` / `.ts`), our JSON Schema component definition (`.schema.json`), and so on.

So we start by creating the directory `src/components/teaser-card`, from our Design System repository root:

```bash
mkdir -p src/components/teaser-card
```

This is the folder we'll add new files to in the coming few paragraphs.

### **JSON Schema** definition

First file we'll create is the `JSON Schema` definition, encoding the structure we've defined for our component before:

<CH.Scrollycoding>
#### Finished **JSON Schema**

We'll work our way up to this **JSON Schema** definition.

<CH.Code>
```json src/components/teaser-card/teaser-card.schema.json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://schema.mydesignsystem.com/teaser-card.schema.json",
  "title": "Teaser Card",
  "description": "Component used to tease content",
  "type": "object",
  "properties": {
    "headline": {
      "type": "string",
      "title": "Headline",
      "description": "Headline for the teaser card",
      "format": "markdown"
    },
    "text": {
      "type": "string",
      "title": "Text",
      "description": "Body text for the teaser card",
      "format": "markdown"
    },
    "target": {
      "type": "string",
      "title": "Target",
      "description": "Target that should be linked",
      "format": "uri"
    },
    "image": {
      "type": "string",
      "title": "Image",
      "description": "Image to display as cover",
      "format": "uri"
    },
    "inverted": {
      "type": "boolean",
      "title": "Invert card?",
      "description": "Whether to invert the card",
      "default": false
    }
  },
  "required": ["headline", "text", "target"]
}
```
</CH.Code>

---

#### Start with just the boilerplate for a component definition

This includes all necessarily required values for a valid component definition in **kickstartDS**.

<CH.Code>
```json src/components/teaser-card/teaser-card.schema.json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "",
  "title": "",
  "description": "",
  "type": "object",
  "properties": {}
}
```
</CH.Code>

---

#### Add basic info describing component

We start by adding a `title`, `description` and `$id` attribute. The correct `$id` depends on your Design System configuration. We'll assume you've created components before, living under the schema prefix `http://schema.mydesignsystem.com`.

<CH.Code>
```json src/components/teaser-card/teaser-card.schema.json focus=3:5
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://schema.mydesignsystem.com/teaser-card.schema.json",
  "title": "Teaser Card",
  "description": "Component used to tease content",
  "type": "object",
  "properties": {}
}
```
</CH.Code>

---

#### Create `headline` and `text` fields...

Both fields are straight-forward `string` type properties, so we just document them a bit!<br/>
We do mark `headline` and `text` by setting `format` to `markdown`, though, to enable some light RTE-like formatting options of rendered text later on.

<CH.Code>
```json src/components/teaser-card/teaser-card.schema.json focus=8:19
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://schema.mydesignsystem.com/teaser-card.schema.json",
  "title": "Teaser Card",
  "description": "Component used to tease content",
  "type": "object",
  "properties": {
    "headline": {
      "type": "string",
      "title": "Headline",
      "description": "Headline for the teaser card",
      "format": "markdown"
    },
    "text": {
      "type": "string",
      "title": "Text",
      "description": "Body text for the teaser card",
      "format": "markdown"
    }
  }
}
```
</CH.Code>

---

#### ... and make both required

We declare `headline` and `text` as required on the uppermost `object`!

<CH.Code>
```json src/components/teaser-card/teaser-card.schema.json focus=21
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://schema.mydesignsystem.com/teaser-card.schema.json",
  "title": "Teaser Card",
  "description": "Component used to tease content",
  "type": "object",
  "properties": {
    "headline": {
      "type": "string",
      "title": "Headline",
      "description": "Headline for the teaser card",
      "format": "markdown"
    },
    "text": {
      "type": "string",
      "title": "Text",
      "description": "Body text for the teaser card",
      "format": "markdown"
    }
  },
  "required": ["headline", "text"]
}
```
</CH.Code>

---

#### Create `target` and `image` fields...

Both fields are also straight-forward `string` type properties!<br/>
We do mark `target` and `image` by setting `format` to `uri`, this time enable URL-like behaviour for those fields.

<CH.Code>
```json src/components/teaser-card/teaser-card.schema.json focus=20:31
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://schema.mydesignsystem.com/teaser-card.schema.json",
  "title": "Teaser Card",
  "description": "Component used to tease content",
  "type": "object",
  "properties": {
    "headline": {
      "type": "string",
      "title": "Headline",
      "description": "Headline for the teaser card",
      "format": "markdown"
    },
    "text": {
      "type": "string",
      "title": "Text",
      "description": "Body text for the teaser card",
      "format": "markdown"
    },
    "target": {
      "type": "string",
      "title": "Target",
      "description": "Target that should be linked",
      "format": "uri"
    },
    "image": {
      "type": "string",
      "title": "Image",
      "description": "Image to display as cover",
      "format": "uri"
    }
  },
  "required": ["headline", "text"]
}
```
</CH.Code>

---

#### ... and make `target` required

We add `target` as required on the uppermost `object`!

<CH.Code>
```json src/components/teaser-card/teaser-card.schema.json focus=33
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://schema.mydesignsystem.com/teaser-card.schema.json",
  "title": "Teaser Card",
  "description": "Component used to tease content",
  "type": "object",
  "properties": {
    "headline": {
      "type": "string",
      "title": "Headline",
      "description": "Headline for the teaser card",
      "format": "markdown"
    },
    "text": {
      "type": "string",
      "title": "Text",
      "description": "Body text for the teaser card",
      "format": "markdown"
    },
    "target": {
      "type": "string",
      "title": "Target",
      "description": "Target that should be linked",
      "format": "uri"
    },
    "image": {
      "type": "string",
      "title": "Image",
      "description": "Image to display as cover",
      "format": "uri"
    }
  },
  "required": ["headline", "text", "target"]
}
```
</CH.Code>

---

#### Add `inverted` property

As the last property we add `inverted`, as a `boolean`.

<CH.Code>
```json src/components/teaser-card/teaser-card.schema.json focus=32:37
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://schema.mydesignsystem.com/teaser-card.schema.json",
  "title": "Teaser Card",
  "description": "Component used to tease content",
  "type": "object",
  "properties": {
    "headline": {
      "type": "string",
      "title": "Headline",
      "description": "Headline for the teaser card",
      "format": "markdown"
    },
    "text": {
      "type": "string",
      "title": "Text",
      "description": "Body text for the teaser card",
      "format": "markdown"
    },
    "target": {
      "type": "string",
      "title": "Target",
      "description": "Target that should be linked",
      "format": "uri"
    },
    "image": {
      "type": "string",
      "title": "Image",
      "description": "Image to display as cover",
      "format": "uri"
    },
    "inverted": {
      "type": "boolean",
      "title": "Invert card?",
      "description": "Whether to invert the card",
      "default": false
    }
  },
  "required": ["headline", "text", "target"]
}
```
</CH.Code>

---

#### Finished **JSON Schema**

Let's have a look at our completed **JSON Schema** definition.

<CH.Code>
```json src/components/teaser-card/teaser-card.schema.json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://schema.mydesignsystem.com/teaser-card.schema.json",
  "title": "Teaser Card",
  "description": "Component used to tease content",
  "type": "object",
  "properties": {
    "headline": {
      "type": "string",
      "title": "Headline",
      "description": "Headline for the teaser card",
      "format": "markdown"
    },
    "text": {
      "type": "string",
      "title": "Text",
      "description": "Body text for the teaser card",
      "format": "markdown"
    },
    "target": {
      "type": "string",
      "title": "Target",
      "description": "Target that should be linked",
      "format": "uri"
    },
    "image": {
      "type": "string",
      "title": "Image",
      "description": "Image to display as cover",
      "format": "uri"
    },
    "inverted": {
      "type": "boolean",
      "title": "Invert card?",
      "description": "Whether to invert the card",
      "default": false
    }
  },
  "required": ["headline", "text", "target"]
}
```
</CH.Code>
</CH.Scrollycoding>

This concludes creating the `JSON Schema`. When running the schema generation in our Design System again, we should now automatically end up with a corresponding type definition to be used in creation of the template in the next step:

<CH.Code>
```ts src/components/teaser-card/TeaserCardProps.ts
/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run `yarn run schema` to regenerate this file.
 */

/\*\*

- Headline for the teaser card
  \*/
  export type Headline = string;
  /\*\*
- Body text for the teaser card
  \*/
  export type Text = string;
  /\*\*
- Target that should be linked
  \*/
  export type Target = string;
  /\*\*
- Image to display as cover
  \*/
  export type Image = string;
  /\*\*
- Whether to invert the card
  \*/
  export type InvertCard = boolean;

/\*\*

- Component used to tease content
  \*/
  export interface TeaserCardProps {
  headline: Headline;
  text: Text;
  target: Target;
  image?: Image;
  inverted?: InvertCard;
  [k: string]: unknown;
  }

````

```json src/components/teaser-card/teaser-card.schema.json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://schema.mydesignsystem.com/teaser-card.schema.json",
  "title": "Teaser Card",
  "description": "Component used to tease content",
  "type": "object",
  "properties": {
    "headline": {
      "type": "string",
      "title": "Headline",
      "description": "Headline for the teaser card",
      "format": "markdown"
    },
    "text": {
      "type": "string",
      "title": "Text",
      "description": "Body text for the teaser card",
      "format": "markdown"
    },
    "target": {
      "type": "string",
      "title": "Target",
      "description": "Target that should be linked",
      "format": "uri"
    },
    "image": {
      "type": "string",
      "title": "Image",
      "description": "Image to display as cover",
      "format": "uri"
    },
    "inverted": {
      "type": "boolean",
      "title": "Invert card?",
      "description": "Whether to invert the card",
      "default": false
    }
  },
  "required": ["headline", "text", "target"]
}
````

</CH.Code>

How your schema generation is started might change depending on your setup. If you've followed our ["Create your Design System" guide](../../create/index.mdx) before, or want to add it like we do, follow [this section of it](../../create/components.mdx) closely.

### **React** template

As the final step for this example, we'll add the template. This will be a purely functional `React` component, mapping our component structure (as defined in the `JSON Schema`) to the original component we're basing our work off of; the **kickstartDS** `Storytelling` component.

<CH.Scrollycoding>
#### Finished **React** template

We'll work our way up to this **React** template.

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx
import { HTMLAttributes, FC, PropsWithChildren } from "react";
import {
  TeaserBoxContextDefault,
  TeaserBoxContext,
} from "@kickstartds/base/lib/teaser-box";
import { TeaserCardProps } from "./TeaserCardProps";

export const TeaserCard: FC<
TeaserCardProps & HTMLAttributes<HTMLElement>
> = ({
  headline,
  text,
  target,
  image,
  inverted,
  ...props
}) => {
  return (
    <TeaserBoxContextDefault
      {...props}
      topic={headline}
      text={text}
      link={{
        label: "Read more",
        href: target,
      }}
      image={image}
      inverted={inverted}
    />
  );
};

export const TeaserBoxProvider: FC<PropsWithChildren<any>> = (props) => (
  <TeaserBoxContext.Provider {...props} value={TeaserCard} />
);
```
</CH.Code>

---

#### Start with a boilerplate

Again we'll start with a very basic skeleton for our **React** component. We're using **TypeScript** here (`.tsx`), but it works the same with plain **JSX** (`.jsx`).

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx
import { HTMLAttributes, FC } from "react";

export const TeaserCard: FC<HTMLAttributes<HTMLDivElement>> = (
  props
) => <div {...props}>Lorem ipsum</div>;
```

</CH.Code>

---

#### Add correct typings

Import and add generated props from `TeaserCardProps.ts`. Generated by our **JSON Schema**, these guarantee you're matching your expected component structure while implementing. In combination with **TypeScript** this enables auto-complete and auto-fix for even better DX! ([see here](../../components/create.mdx#react-template), at the very end of that section, for more details)

We also add `HTMLAttributes<HTMLElement>` to the type signature for the `props` that we'll pass through to the native HTML element underneath.

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx focus=3:7
import { HTMLAttributes, FC } from "react";

import { TeaserCardProps } from "./TeaserCardProps";

export const TeaserCard: FC<
  TeaserCardProps & HTMLAttributes<HTMLElement>
> = ({ ...props }) => <div {...props}>Lorem ipsum</div>;
```
</CH.Code>

---

#### Destructure `props`

We also need to add our own properties, so we'll destructure `props`. We'll just pass through everything `HTMLAttributes` related!

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx focus=7:14
import { HTMLAttributes, FC } from "react";

import { TeaserCardProps } from "./TeaserCardProps";

export const TeaserCard: FC<
  TeaserCardProps & HTMLAttributes<HTMLElement>
> = ({
  headline,
  text,
  target,
  image,
  inverted,
  ...props
}) => (
  <div {...props}>Lorem ipsum</div>
));
```
</CH.Code>

---

#### Add `TeaserCard` component 1/5

Now we'll import and add the **kickstartDS** `TeaserBox` component. To start, we'll use the hard-coded properties of [the _Linked With Button_ `TeaserBox` variant](https://www.kickstartds.com/storybook/?path=/docs/base-teaser-box--linked-with-button) from our **kickstartDS** Design System.

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx focus=3:5,20:40
import { HTMLAttributes, FC } from "react";

import {
  TeaserBoxContextDefault,
} from "@kickstartds/base/lib/teaser-box";

import { TeaserCardProps } from "./TeaserCardProps";

export const TeaserCard: FC<
  TeaserCardProps & HTMLAttributes<HTMLElement>
> = ({
  headline,
  text,
  target,
  image,
  inverted,
  ...props
}) => {
  return (
    <TeaserBoxContextDefault
      image="https://picsum.photos/seed/kdsteaserbox/500/300"
      link={{
        fillAnimation: false,
        hidden: false,
        href: 'https://example.com',
        icon: {
          icon: 'chevron-right'
        },
        iconAfter: true,
        iconAnimation: false,
        iconBefore: false,
        label: 'learn more',
        newTab: false,
        size: 'medium',
        variant: 'solid'
      }}
      ratio="16:9"
      text="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ispum dolor distinctio minima unde voluptatum aut. Lorem ipsum dolor sit amet."
      topic="Lorem Ipsum"
    />
  )
};
```
</CH.Code>

---

#### Add `TeaserCard` component 2/5

We remove all of the unneeded stuff, as there are a bunch of properties that are completely optional, mainly those having their values `undefined` or `null` in the copied JSX, or ones which just state the `default` value of that property anyway. Those can be freely removed.

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx focus=20:28
import { HTMLAttributes, FC } from "react";

import {
  TeaserBoxContextDefault,
} from "@kickstartds/base/lib/teaser-box";

import { TeaserCardProps } from "./TeaserCardProps";

export const TeaserCard: FC<
  TeaserCardProps & HTMLAttributes<HTMLElement>
> = ({
  headline,
  text,
  target,
  image,
  inverted,
  ...props
}) => {
  return (
    <TeaserBoxContextDefault
      topic="Lorem Ipsum"
      text="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ispum dolor distinctio minima unde voluptatum aut. Lorem ipsum dolor sit amet."
      link={{
        href: 'https://example.com',
        label: 'learn more',
      }}
      image="https://picsum.photos/seed/kdsteaserbox/500/300"
    />
  )
};
```
</CH.Code>

---

#### Add `TeaserCard` component 3/5

We then connect the props as defined in our [component API](../../../foundations/components/component-api.md) that are directly taken from the underlying **kickstartDS** base component by just passing them through. We also destructure `props` first, so our own properties take precedence when set.

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx focus=21,23,28,29
import { HTMLAttributes, FC } from "react";

import {
  TeaserBoxContextDefault,
} from "@kickstartds/base/lib/teaser-box";

import { TeaserCardProps } from "./TeaserCardProps";

export const TeaserCard: FC<
  TeaserCardProps & HTMLAttributes<HTMLElement>
> = ({
  headline,
  text,
  target,
  image,
  inverted,
  ...props
}) => {
  return (
    <TeaserBoxContextDefault
      {...props}
      topic="Lorem Ipsum"
      text={text}
      link={{
        href: 'https://example.com',
        label: 'learn more',
      }}
      image={image}
      inverted={inverted}
    />
  )
};
```
</CH.Code>

---

#### Add `TeaserCard` component 4/5

We renamed `topic` to `headline` in our [component API](../../../foundations/components/component-api.md), so we add that in its renamed form.

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx focus=22
import { HTMLAttributes, FC } from "react";

import {
  TeaserBoxContextDefault,
} from "@kickstartds/base/lib/teaser-box";

import { TeaserCardProps } from "./TeaserCardProps";

export const TeaserCard: FC<
  TeaserCardProps & HTMLAttributes<HTMLElement>
> = ({
  headline,
  text,
  target,
  image,
  inverted,
  ...props
}) => {
  return (
    <TeaserBoxContextDefault
      {...props}
      topic={headline}
      text={text}
      link={{
        href: 'https://example.com',
        label: 'learn more',
      }}
      image={image}
      inverted={inverted}
    />
  )
};
```
</CH.Code>

---

#### Add `TeaserCard` component 5/5

Finally we add our hard coded _Read More_ to the `link.label`, and connect `target` to `link.href`.

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx focus=24:27
import { HTMLAttributes, FC } from "react";

import {
  TeaserBoxContextDefault,
} from "@kickstartds/base/lib/teaser-box";

import { TeaserCardProps } from "./TeaserCardProps";

export const TeaserCard: FC<
  TeaserCardProps & HTMLAttributes<HTMLElement>
> = ({
  headline,
  text,
  target,
  image,
  inverted,
  ...props
}) => {
  return (
    <TeaserBoxContextDefault
      {...props}
      topic={headline}
      text={text}
      link={{
        label: "Read more",
        href: target,
      }}
      image={image}
      inverted={inverted}
    />
  )
};
```
</CH.Code>

---

#### Add component `Provider`

We want our `TeaserCard` to replace all default **kickstartDS** base `TeaserBox`es, no matter where they appear. We add a `Provider` for that purpose now!

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx focus=1,5,35:37
import { HTMLAttributes, FC, PropsWithChildren } from "react";

import {
  TeaserBoxContextDefault,
  TeaserBoxContext,
} from "@kickstartds/base/lib/teaser-box";

import { TeaserCardProps } from "./TeaserCardProps";

export const TeaserCard: FC<
  TeaserCardProps & HTMLAttributes<HTMLElement>
> = ({
  headline,
  text,
  target,
  image,
  inverted,
  ...props
}) => {
  return (
    <TeaserBoxContextDefault
      {...props}
      topic={headline}
      text={text}
      link={{
        label: "Read more",
        href: target,
      }}
      image={image}
      inverted={inverted}
    />
  )
};

export const TeaserBoxProvider: FC<PropsWithChildren<any>> = (props) => (
  <TeaserBoxContext.Provider {...props} value={TeaserCard} />
);
```
</CH.Code>

---

#### Finished **React** template

Let's have a look at our completed **React** template.

<CH.Code>
```tsx src/components/teaser-card/TeaserCardComponent.tsx
import { HTMLAttributes, FC, PropsWithChildren } from "react";

import {
  TeaserBoxContextDefault,
  TeaserBoxContext,
} from "@kickstartds/base/lib/teaser-box";

import { TeaserCardProps } from "./TeaserCardProps";

export const TeaserCard: FC<
  TeaserCardProps & HTMLAttributes<HTMLElement>
> = ({
  headline,
  text,
  target,
  image,
  inverted,
  ...props
}) => {
  return (
    <TeaserBoxContextDefault
      {...props}
      topic={headline}
      text={text}
      link={{
        label: "Read more",
        href: target,
      }}
      image={image}
      inverted={inverted}
    />
  )
};

export const TeaserBoxProvider: FC<PropsWithChildren<any>> = (props) => (
  <TeaserBoxContext.Provider {...props} value={TeaserCard} />
);
```
</CH.Code>
</CH.Scrollycoding>

To complete the template we add the `TeaserBoxProvider` to our `src/components/Providers.jsx`:

<CH.Code>
```jsx src/components/Providers.jsx focus=3,10
import { ButtonProvider } from "./button/ButtonComponent";
import { SectionProvider } from "./section/SectionComponent";
import { TeaserBoxProvider } from "./teaser-card/TeaserCardComponent";
import { HeadlineProvider } from "./headline/HeadlineComponent";

export default (props) => (
  <ButtonProvider>
    <HeadlineProvider>
      <SectionProvider>
        <TeaserBoxProvider {...props} />
      </SectionProvider>
    </HeadlineProvider>
  </ButtonProvider>
);

````
</CH.Code>

This concludes the creation of our new `TeaserCard` component. It's now ready to be used inside your Design System, and available to your down stream consumers... hopefully efficiently closing a gap for them!

## Use of **Storybook**

If you're using **Storybook**, you can follow this part of the example to get all the integration goodness possible with **kickstartDS**!

<Admonition type="tip" title="Storybook setup">
  This guide assumes you're using a set up like described in our [Create your
  Design System](../../create/index.mdx) guide! Be sure to adapt commands and
  configuration to your use accordingly, when following this part!
</Admonition>

Add the following file to your `src/components/teaser-card` folder:

<CH.Spotlight>
<CH.Code>
```jsx src/components/teaser-card/TeaserCard.stories.jsx
import { TeaserCard } from "./TeaserCardComponent";
import { pack, getArgsShared } from "@kickstartds/core/lib/storybook/helpers";
import TeaserBoxStories from "@kickstartds/base/lib/teaser-box/teaser-box.stories";
import schema from "./teaser-card.schema.dereffed.json";

const { args, argTypes } = getArgsShared(schema);

const Template = (args) => <TeaserCard {...args} />;

export default {
  ...TeaserBoxStories,
  title: "Components/Teaser Card",
  args,
  argTypes,
  parameters: {
    jsonschema: schema,
  },
};

export const CardWithImage = Template.bind({});
CardWithImage.args = pack({
  headline: "TeaserCard headline",
  text: "TeaserCard text content that can be quite a bit longer, and use **Markdown**",
  target: "#",
  image: "https://images.unsplash.com/photo-1665125143199-a6b44a9e1b21?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTY2NzUxNDQyOA&ixlib=rb-1.2.1&q=80&w=1080",
  inverted: false
});

````

</CH.Code>

---

### Import `TeaserCard` component

Import `TeaserCard` component and add it to the `Template` that we'll bind **Stories** to.

<CH.Code>
```jsx src/components/teaser-card/TeaserCard.stories.jsx focus=1,8

````
</CH.Code>

---

### Import **Storybook Controls** helpers

Import dereferenced component **JSON Schema** and `getArgsShared` helper to generate **Storybook Controls**, and parameterize [**Storybook JSON Schema Addon**](../../../integration/storybook/schema#storybook-json-schema-addon).

<CH.Code>
```jsx src/components/teaser-card/TeaserCard.stories.jsx focus=2,4,6,15:17

````

</CH.Code>

---

### Import re-usable `TeaserCard` **Stories**...

We import the existing `TeaserCard` **Story** part of `@kickstartDS/base`, to re-use all the default settings.

<CH.Code>
```jsx src/components/teaser-card/TeaserCard.stories.jsx focus=3,11

````

</CH.Code>

---

### ... and overwrite values where needed

We set all the **Story** defaults specific to our component.

<CH.Code>
```jsx src/components/teaser-card/TeaserCard.stories.jsx focus=10,12:18

````

</CH.Code>

---

### Converting args to flat keys

We use `pack` to convert all deep **JSON** args to flat (`.` delimited) keys and values. This is the format your **Storybook Controls** get generated off.

<CH.Code>
```jsx src/components/teaser-card/TeaserCard.stories.jsx focus=2,21:27

````

</CH.Code>

---

### Create `TeaserCard` variants

We do this by binding to our `Template`, and use `pack` to convert all deep **JSON** args to flat (`.` delimited) keys and values. This is the format your **Storybook Controls** get generated off.

<CH.Code>
```jsx src/components/teaser-card/TeaserCard.stories.jsx focus=8,20

````

</CH.Code>

</CH.Spotlight>

If you reopen your **Storybook** now, or if you kept it running while following along, you should now see your new `TeaserCard` in all its glory!

## Finished **Code Sandbox**

You can also have a look at the completed component in the following **Code Sandbox**:

<iframe
  src="https://codesandbox.io/embed/github/kickstartDS/ds-guide/tree/step%2F4/?fontsize=14&hidenavigation=1&module=%2Fsrc%2Fcomponents%2Fteaser-card%2FTeaserCardComponent.tsx&theme=dark&view=editor"
  style={{
    width: '100%',
    height: '500px',
    border: 0,
    borderRadius: '4px',
    overflow: 'hidden',
  }}
  title="ds-guide"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
></iframe>

Toggle the file browser with the hamburger icon at the top left, [or open it directly in your browser](https://codesandbox.io/s/github/kickstartDS/ds-guide/tree/step/4?file=/src/components/teaser-card/TeaserCardComponent.tsx).

```

```
