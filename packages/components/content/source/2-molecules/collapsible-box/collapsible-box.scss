@use 'sass:meta';
@use 'bourbon/core/bourbon';
@use '@kickstartds/base/source/0-base/1-tools/scss/details-reset';
@use '@kickstartds/core/source/container/container-name';
@use '@kickstartds/core/source/core/custom-properties';
@use './collapsible-box-vars';

$vars: meta.module-variables(collapsible-box-vars);
@include custom-properties.styles($vars);
@include container-name.name('collapsible-box');

.c-collapsible-box {
  details {
    @include details-reset.details-reset;

    border-top: 1px solid var(--c-collapsible-box--border-color);
    border-bottom: 1px solid var(--c-collapsible-box--border-color);
  }

  & + & {
    details {
      border-top: 0;
    }
  }

  &__header {
    &-wrapper {
      position: relative;
      padding: var(--c-collapsible-box_header--padding);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font: var(--c-collapsible-box_header--font);
    }

    &__text {
      flex: 1;

      @container collapsible-box size(min-width: 640px) {
        padding-right: 1em;
      }
    }

    &__icon {
      .icon {
        @include bourbon.size(var(--c-collapsible-box_icon--size));
      }

      [open] & {
        transform: var(--c-collapsible-box_icon--transform-open);
      }

      svg {
        pointer-events: none;
      }
    }
  }

  &__content {
    &__item {
      padding: var(--c-collapsible-box_content--padding);
    }

    .is-closed & {
      display: none;
    }
  }
}
