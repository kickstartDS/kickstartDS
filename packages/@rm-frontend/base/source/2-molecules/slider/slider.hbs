<div class="slider lazyload {{#if autoplay}}slider--autoplay{{/if}} {{class}}" data-component="{{default component 'base.slider'}}">
  <div class="slider-main" {{#if arrows}}data-slider-arrows="{{arrows}}"{{/if}}>
    <div class="slider__track">
      <div class="slider__slides">
        {{#each slides}}
        {{#with (merge @root (default (lookup this ../with) this))}}
        <div class="slider__slide">
          {{try (lookup this 'slideComponent') (merge this (object slider=(object index=@index first=@first last=@last)))}}
        </div>
        {{/with}}
        {{/each}}
      </div>
    </div>

    <div class="slider-nav">
      <div class="slider__track">
        <div class="slider__slides slider-nav__slides" data-glide-el="controls[nav]">
          {{#each slides }}
          {{#with (merge @root (default (lookup this ../with) this))}}
          <button class="slider-nav__slide" data-glide-dir="={{@index}}">
            {{#if (lookup this 'previewComponent')}}
            {{> (lookup this 'previewComponent') this}}
            {{/if}}
            {{> molecules-slider-bullet }}
          </button>
          {{/with}}
          {{/each}}
        </div>
      </div>
    </div>
  </div>
</div>