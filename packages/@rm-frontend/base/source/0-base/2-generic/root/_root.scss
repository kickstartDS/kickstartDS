/* stylelint-disable plugin/selector-bem-pattern, selector-no-qualifying-type */
/* critical:start */
@use '../../1-tools/scss/breakpoint';
@use '../../1-tools/scss/contrast';
@use 'settings/base';
@use './normalize';
@use 'fonts/fonts'; // from instance

* {
  &,
  &::before,
  &::after {
    box-sizing: inherit;
  }
}

html {
  box-sizing: border-box;
  font-size: base.$font-size-base;
  height: 100%;
  scroll-behavior: smooth;

  @include breakpoint.media('â‰¥s') {
    font-size: base.$font-size-base-s;
  }

  &.is-in-iframe {
    height: auto;
  }
}
/* critical:end */

body {
  /* critical:start */
  @include base.font-sans(regular);

  color: base.$text-color;
  background-color: base.$page-background;
  line-height: base.$line-height-default;
  text-size-adjust: none;
  -webkit-overflow-scrolling: touch;
  -webkit-font-smoothing: antialiased;
  -ms-size-adjust: none;
  -moz-osx-font-smoothing: grayscale;
  /* critical:end */
  min-height: 100%;
  height: 100%;
  overflow-y: scroll;
  overflow-x: hidden;

  &.overlay-open {
    overflow: hidden;
  }

  @include breakpoint.media('<20rem') {
    overflow-x: auto;
  }

  @include breakpoint.media('print') {
    background-color: transparent;
    color: #000;
    widows: 3;
    orphans: 3;
  }

  > * {
    flex: none;
  }
}

@media print {
  @page {
    margin: 2cm;
  }
}

::selection {
  color: inherit;
  text-shadow: inherit;
  @include contrast.yiq-contrasted(
    base.$color-brand,
    base.$color-black,
    base.$color-white
  );
}
